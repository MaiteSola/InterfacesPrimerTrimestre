<!-- src/app/components/contenedor-cards/contenedor-cards.component.html -->

<div class="container my-5">
  <div class="row g-4">
    @for (p of pizzas(); track p.nombre) {
      <div class="col-12 col-md-6 col-lg-4">
        <app-card [pizza]="p" (addToCart)="onAddToCart($event)"></app-card>
      </div>
    }
  </div>
</div>


@if (carrito().length > 0) {
  <div class="container my-5 p-4 border rounded bg-light">
    <h4>Resumen del pedido</h4>

    <ul class="list-group mb-3">
      @for (item of carrito(); track item.pizza.nombre) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ item.pizza.nombre }} Ã— {{ item.cantidad }}
          <span>{{ item.pizza.precio * item.cantidad | currency:'EUR' }}</span>
          <button class="btn btn-sm btn-danger" (click)="quitarItem(item.pizza.nombre)">X</button>
        </li>
      }
    </ul>

    <p class="fw-bold">Total: {{ total() | currency:'EUR' }}</p>

    <!-- FORMULARIO -->
    <app-form 
      [carrito]="carrito()" 
      (pagoRealizado)="limpiarCarrito()"
    />
  </div>
}